{"version":3,"sources":["core/src/utils.ts"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["import {AsyncValidatorFn, Validators, ValidatorFn} from \"@angular/forms\";\nimport {getSerializables, SerializableProperty} from \"./decorator/serializable.decorator\";\n\nexport function isDefined(object: any): boolean {\n    return object !== undefined && object !== null;\n}\n\nexport function isEmptyString(_string: string | null | undefined): boolean {\n    return typeof _string !== \"string\" || _string.length === 0;\n}\n\nexport function isFunction(object: any): boolean {\n    return typeof object === \"function\";\n}\n\nexport function getValue(object: any, key: string, defaultValue: any): any {\n\n    if (object === undefined || object === null) {\n        return defaultValue;\n    }\n\n    let value = object[key];\n\n    if (value === undefined && defaultValue !== undefined) {\n        return defaultValue;\n    }\n\n    if (typeof value === \"object\" && typeof defaultValue === \"object\") {\n\n        for (let property in value) {\n\n            if (value.hasOwnProperty(property) && typeof value[property] === \"object\") {\n\n                value[property] = getValue(value, property, defaultValue ? defaultValue[property] : null);\n            }\n        }\n\n        return defaultValue ? Object.assign(defaultValue, value) : value;\n    }\n\n    return value;\n}\n\n\nexport function serializeValidator(validator: ValidatorFn | AsyncValidatorFn): string | null {\n\n    for (let validatorName in Validators) {\n\n        if (Validators.hasOwnProperty(validatorName) && validator === Validators[validatorName]) {\n            return validatorName;\n        }\n    }\n\n    return null;\n}\n\nexport function serializeValidators(validators: Array<ValidatorFn | AsyncValidatorFn>): Array<string> {\n\n    let serialized = [];\n\n    validators.forEach(validator => {\n\n        let validatorName = serializeValidator(validator);\n\n        if (validatorName) {\n            serialized.push(validatorName);\n        }\n    });\n\n    return serialized;\n}\n\nexport function deserializeValidator(serialized: string): ValidatorFn | AsyncValidatorFn {\n\n    return Validators[serialized];\n}\n\nexport function deserializeValidators(serialized: Array<string>): Array<ValidatorFn | AsyncValidatorFn> {\n\n    return serialized.map(validatorName => deserializeValidator(validatorName));\n}\n\nexport function serialize(target, prototype?): Object {\n\n    return getSerializables(prototype || target).reduce((prev, prop: SerializableProperty) => {\n\n        if (prop.key === \"validators\" || prop.key === \"asyncValidators\") {\n\n            prev[prop.name] = serializeValidators(target[prop.key]);\n\n        } else if (prop.key === \"validator\" || prop.key === \"asyncValidator\") {\n\n            prev[prop.name] = serializeValidator(target[prop.key]);\n\n        } else {\n            prev[prop.name] = target[prop.key];\n        }\n\n        return prev;\n\n    }, {});\n}"]}