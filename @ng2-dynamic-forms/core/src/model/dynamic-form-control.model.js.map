{"version":3,"sources":["core/src/model/dynamic-form-control.model.ts"],"names":[],"mappings":";;;;;;;;;;AACA,wBAAsB,cAAc,CAAC,CAAA;AACrC,uCAA2B,qCAAqC,CAAC,CAAA;AACjE,sBAAiD,UAAU,CAAC,CAAA;AAwB5D;IAYI,iCAAY,MAAqC,EAAE,GAAe;QAZtE,iBA0CC;QAxCmB,QAAG,GAAQ,EAAE,CAAC;QAY1B,EAAE,CAAC,CAAC,qBAAa,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,yDAAyD,CAAC,CAAC;QAC/E,CAAC;QAED,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,gBAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,EAAC,SAAS,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAC,CAAC,CAAC;QACjG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,gBAAQ,CAAC,GAAG,EAAE,MAAM,EAAE,EAAC,SAAS,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAC,CAAC,CAAC;QAE3F,IAAI,CAAC,SAAS,GAAG,gBAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,gBAAQ,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,gBAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;QAEjD,IAAI,CAAC,eAAe,GAAG,IAAI,iBAAO,EAAW,CAAC;QAC9C,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAC,KAAc,IAAK,OAAA,KAAI,CAAC,QAAQ,GAAG,KAAK,EAArB,CAAqB,CAAC,CAAC;IAC9E,CAAC;IAED,sBAAI,6CAAQ;aAIZ;YACI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;aAND,UAAa,KAAc;YACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAC3B,CAAC;;;OAAA;IAMD,wCAAM,GAAN;QACI,MAAM,CAAC,iBAAS,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAvCD;QAAC,qCAAY,EAAE;;wDAAA;IACf;QAAC,qCAAY,CAAC,UAAU,CAAC;;8DAAA;IAEzB;QAAC,qCAAY,EAAE;;uDAAA;IACf;QAAC,qCAAY,EAAE;;0DAAA;IACf;QAAC,qCAAY,EAAE;;yDAAA;IACf;QAAC,qCAAY,EAAE;;6DAAA;IAkCnB,8BAAC;AAAD,CA1CA,AA0CC,IAAA;AA1CqB,+BAAuB,0BA0C5C,CAAA","file":"dynamic-form-control.model.js","sourcesContent":["import {DynamicFormControlRelationGroup} from \"./dynamic-form-control-relation.model\";\nimport {Subject} from \"rxjs/Subject\";\nimport {serializable} from \"../decorator/serializable.decorator\";\nimport {getValue, isEmptyString, serialize} from \"../utils\";\n\nexport interface Cls {\n\n    container?: string;\n    control?: string;\n    errors?: string;\n    label?: string;\n}\n\nexport interface ClsConfig {\n\n    element?: Cls;\n    grid?: Cls;\n}\n\nexport interface DynamicFormControlModelConfig {\n\n    disabled?: boolean;\n    id?: string;\n    label?: string;\n    relation?: Array<DynamicFormControlRelationGroup>;\n}\n\nexport abstract class DynamicFormControlModel {\n\n    @serializable() cls: any = {};\n    @serializable(\"disabled\") _disabled: boolean;\n    disabledUpdates: Subject<boolean>;\n    @serializable() id: string;\n    @serializable() label: string | null;\n    @serializable() name: string;\n    @serializable() relation: Array<DynamicFormControlRelationGroup>;\n\n    abstract readonly type: string;\n\n    constructor(config: DynamicFormControlModelConfig, cls?: ClsConfig) {\n\n        if (isEmptyString(config.id)) {\n            throw new Error(\"string id must be specified for DynamicFormControlModel\");\n        }\n\n        this.cls.element = getValue(cls, \"element\", {container: \"\", control: \"\", errors: \"\", label: \"\"});\n        this.cls.grid = getValue(cls, \"grid\", {container: \"\", control: \"\", errors: \"\", label: \"\"});\n\n        this._disabled = getValue(config, \"disabled\", false);\n        this.id = config.id;\n        this.label = getValue(config, \"label\", null);\n        this.name = this.id;\n        this.relation = getValue(config, \"relation\", []);\n\n        this.disabledUpdates = new Subject<boolean>();\n        this.disabledUpdates.subscribe((value: boolean) => this.disabled = value);\n    }\n\n    set disabled(value: boolean) {\n        this._disabled = value;\n    }\n\n    get disabled(): boolean {\n        return this._disabled;\n    }\n\n    toJSON() {\n        return serialize(this);\n    }\n}"]}